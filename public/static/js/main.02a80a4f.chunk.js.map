{"version":3,"sources":["Original.js","Test.js","App.js","index.js"],"names":["Original","useState","radius","setRadius","buttonWidth","setButtonWidth","width","setWidth","height","setHeight","showForm","setForm","product","setProduct","name","setName","phone","setPhone","useEffect","a","Axios","res","speed","generatingDataToDraw","data","length","map","elem","i","ref","Number","Reference","matching","push","text","Serial","Name","chance","RemainingStock","Chance","container","document","querySelector","offsetWidth","offsetHeight","Wheel","el","getElementById","duration","Speed","image","turntable","button","offset","onSuccess","placeOperation","window","addEventListener","location","reload","goSyncronous","collection","current","put","_id","formSubmit","dateObj","Date","Ognoo","getFullYear","getMonth","getDate","post","Ner","Utas","Baraa","alert","Wrapper","className","id","src","div","initial","opacity","y","animate","x","transition","type","placeholder","value","onChange","e","target","disabled","onClick","styled","props","App","show","setShow","localStorage","getItem","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.02a80a4f.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport Wheel from \"lottery-wheel\";\r\nimport styled from \"styled-components\";\r\nimport Axios from \"axios\";\r\nimport { motion } from \"framer-motion\";\r\n\r\nconst Original = () => {\r\n    const [radius, setRadius] = useState(0);\r\n    const [buttonWidth, setButtonWidth] = useState(0);\r\n    const [width, setWidth] = useState(0);\r\n    const [height, setHeight] = useState(0);\r\n    const [showForm, setForm] = useState(false);\r\n    const [product, setProduct] = useState(null);\r\n    const [name, setName] = useState('');\r\n    const [phone, setPhone] = useState('');\r\n\r\n    useEffect(() => {\r\n        const goSyncronous = async () => {\r\n\r\n            let res = await Axios('http://192.168.10.88:1336/lottery-wins?_sort=createdAt:DESC');\r\n            let speed = await Axios('http://192.168.10.88:1336/settings');\r\n            let generatingDataToDraw = [];\r\n            res.data.length && res.data.map((elem,i)=>{\r\n                let ref = Number(elem.Reference);\r\n                let matching = res.data[ref-1];\r\n                generatingDataToDraw.push({text: elem.Serial, name: elem.Name, ref: elem.Reference, chance: matching.RemainingStock < 1 ? 0 : matching.Chance})\r\n            })\r\n\r\n            let container = document.querySelector('.lottocontainer');\r\n            let width = container.offsetWidth;\r\n            let height = container.offsetHeight;\r\n            let radius = width * 0.15;\r\n            let buttonWidth = width * 0.08;\r\n\r\n            new Wheel({\r\n                el: document.getElementById(\"wheel1\"),\r\n                data: generatingDataToDraw,\r\n                radius,\r\n                buttonWidth,\r\n                duration: Number(speed.data.Speed + '000'),\r\n                image: {\r\n                    turntable: \"https://i.imgur.com/To3E48t.png\",\r\n                    button: \"https://i.imgur.com/L8Whkog.png\",\r\n                    offset: -10,\r\n                },\r\n                onSuccess(data) {\r\n                    placeOperation(data, res.data);\r\n                },\r\n            });\r\n            window.addEventListener(\"resize\", ()=>window.location.reload());\r\n            setRadius(radius);\r\n            setWidth(width);\r\n            setHeight(height);\r\n            setButtonWidth(buttonWidth);\r\n        }\r\n        goSyncronous();\r\n\r\n    }, []);\r\n\r\n    const placeOperation = async (data, collection) => {\r\n        if(Number(data.text) === 16) {\r\n            // localStorage.setItem('Xdol!671', '!@E!@GRTM*')\r\n            return document.location.reload();\r\n        }\r\n        let current = collection[Number(data.text) - 1];\r\n        // console.log(`text: ${data.text}, name: ${data.name}, ref: ${data.ref}`);\r\n        await Axios.put(`http://192.168.10.88:1336/lottery-wins/${current._id}`, {RemainingStock: current.RemainingStock -1})\r\n        setForm(true);\r\n        setProduct(data.name);\r\n        // localStorage.setItem('Xdol!671', '!@E!@GRTM*');\r\n    }\r\n    const formSubmit = async () => {\r\n        let dateObj = new Date();\r\n        let Ognoo = dateObj.getFullYear() + '.' + (dateObj.getMonth() + 1) + '.' + (dateObj.getDate())\r\n        // console.log(name, phone, product, Ognoo);\r\n        await Axios.post(`http://192.168.10.88:1336/winners`, {Ner: name, Utas: phone, Baraa: product, Ognoo});\r\n        window.alert('Амжилт хүсье!');\r\n        document.location.reload();\r\n    }\r\n    return (\r\n        <Wrapper width={width} height={height} radius={radius} buttonWidth={buttonWidth}>\r\n            <div className=\"lottocontainer\">\r\n                <img id=\"arrow\" src=\"https://i.imgur.com/dSIibwI.png\" />\r\n                <div id=\"wheel1\"></div>\r\n            </div>\r\n            <div className=\"fade\"></div>\r\n            {showForm &&\r\n            <motion.div initial={{opacity:0, y:60}} animate={{opacity:1, x:0, transition: {type: \"spring\"}}} id=\"form\">\r\n                <label>Та нэр, утсаа оруулна уу!</label>\r\n                <input type=\"text\" name=\"name\" placeholder=\"Нэр\" value={name} onChange={(e)=>setName(e.target.value)} />\r\n                <input type=\"text\" name=\"phone\" placeholder=\"Утас\" value={phone} onChange={(e)=>setPhone(e.target.value)} />\r\n                <input type=\"text\" name=\"phone\" disabled placeholder={`Хонжвор: ${product}`} />\r\n                <button onClick={formSubmit}>Илгээх</button>\r\n            </motion.div>\r\n            }\r\n        </Wrapper>\r\n    );\r\n};\r\n\r\nexport default Original;\r\n\r\nconst Wrapper = styled.div `\r\n    position:fixed;\r\n    top:0;\r\n    right:0;\r\n    bottom:0;\r\n    left:0;\r\n    z-index:999;\r\n    .fade{\r\n        position:absolute;\r\n        left:0;\r\n        top:0;\r\n        right:0;\r\n        bottom:0;\r\n        background: rgba(0,0,0,0.6);\r\n        z-index:1000;\r\n    }\r\n    .lottocontainer{\r\n        background:white;\r\n        position:absolute;\r\n        z-index:1001;\r\n        margin-left:10vw;\r\n        margin-top:2vw;\r\n        width:80vw;\r\n        height:45vw;\r\n        background-image: url(https://i.imgur.com/aWorWBt.png);\r\n        background-size: 100% 100%;\r\n        #wheel1{\r\n            width: calc(${props => props.radius * 2}px);\r\n            height: calc(${props => props.radius * 2}px);\r\n            margin-left: calc(${props => props.width / 2}px - ${props => props.radius}px);\r\n            margin-top: calc(${props => props.height / 2}px - ${props => props.radius}px);\r\n        }\r\n        #arrow{\r\n            position:absolute;\r\n            width:${props => props.width * 0.085}px;\r\n            margin-left: calc(${props => props.width / 2}px - ${props => props.width * 0.048}px);\r\n            margin-top: calc(${props => props.height / 2.08}px - ${props => props.radius}px);\r\n        }\r\n    }\r\n    #form{\r\n        position:absolute;\r\n        background:white;\r\n        z-index:1002;\r\n        padding:30px;\r\n        width:300px;\r\n        left:50%;\r\n        margin-left:-180px;\r\n        margin-top: ${props => props.height / 2 - 150}px;\r\n        text-align:center;\r\n        input{\r\n            border:none;\r\n            margin-top:15px;\r\n            border-bottom:1px solid rgba(0,0,0,0.1);\r\n            width:100%;\r\n            padding:10px;\r\n        }\r\n        button{\r\n            display:block;\r\n            width:100%;\r\n            border:none;\r\n            margin-top:30px;\r\n            padding:15px;\r\n            &:hover{\r\n                cursor:pointer;\r\n            }\r\n        }\r\n    }\r\n`\r\n\r\nconst sanitize = (number) => {\r\n    switch(Number(number)){\r\n        case 1: return 1;\r\n        case 2: return 16;\r\n        case 3: return 15;\r\n        case 4: return 14;\r\n        case 5: return 13;\r\n        case 6: return 12;\r\n        case 7: return 11;\r\n        case 8: return 10;\r\n        case 9: return 9;\r\n        case 10: return 8;\r\n        case 11: return 7;\r\n        case 12: return 6;\r\n        case 13: return 5;\r\n        case 14: return 4;\r\n        case 15: return 3;\r\n        case 16: return 2;\r\n        default:\r\n            return 'fuck';\r\n    }\r\n}","import React, { useEffect, useState } from \"react\";\r\nimport Wheel from \"lottery-wheel\";\r\nimport styled from \"styled-components\";\r\n\r\nconst data = [\r\n    {text: '1', chance:1},\r\n    {text: '2', chance:1},\r\n    {text: '3', chance:1},\r\n    {text: '4', chance:1},\r\n    {text: '5', chance:1},\r\n    {text: '6', chance:1},\r\n    {text: '7', chance:1},\r\n    {text: '8', chance:1},\r\n    {text: '9', chance:1},\r\n    {text: '10', chance:1},\r\n    {text: '11', chance:1},\r\n    {text: '12', chance:1},\r\n    {text: '13', chance:1},\r\n    {text: '14', chance:1},\r\n    {text: '15', chance:100},\r\n    {text: '16', chance:1},\r\n];\r\n\r\nconst Test = () => {\r\n    const [radius, setRadius] = useState(0);\r\n    const [buttonWidth, setButtonWidth] = useState(0);\r\n    const [width, setWidth] = useState(0);\r\n    const [height, setHeight] = useState(0);\r\n    useEffect(() => {\r\n        let container = document.querySelector('.lottocontainer');\r\n        let width = container.offsetWidth;\r\n        let height = container.offsetHeight;\r\n        let radius = width * 0.15;\r\n        let buttonWidth = width * 0.08;\r\n\r\n        new Wheel({\r\n            el: document.getElementById(\"wheel1\"),\r\n            data,\r\n            radius,\r\n            buttonWidth,\r\n            image: {\r\n                turntable: \"https://i.imgur.com/To3E48t.png\",\r\n                button: \"https://i.imgur.com/L8Whkog.png\",\r\n                offset: -10,\r\n            },\r\n            onSuccess(data) {\r\n                console.log(`Congratulations! You picked up ${data.text}`)\r\n            },\r\n        });\r\n        setRadius(radius);\r\n        console.log(radius,'radius');\r\n        setWidth(width);\r\n        console.log(width,'width');\r\n        setHeight(height);\r\n        console.log(height,'height');\r\n        setButtonWidth(buttonWidth);\r\n        console.log(buttonWidth,'buttonWidth');\r\n        window.addEventListener(\"resize\", ()=>{\r\n            window.location.reload();\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <Wrapper width={width} height={height} radius={radius} buttonWidth={buttonWidth}>\r\n            <div className=\"lottocontainer\">\r\n                <img id=\"arrow\" src=\"https://i.imgur.com/dSIibwI.png\" />\r\n                <div id=\"wheel1\"></div>\r\n            </div>\r\n            <div className=\"fade\"></div>\r\n        </Wrapper>\r\n    );\r\n};\r\n\r\nexport default Test;\r\n\r\nconst Wrapper = styled.div `\r\n    position:fixed;\r\n    top:0;\r\n    right:0;\r\n    bottom:0;\r\n    left:0;\r\n    z-index:999;\r\n    .fade{\r\n        position:absolute;\r\n        left:0;\r\n        top:0;\r\n        right:0;\r\n        bottom:0;\r\n        background: rgba(0,0,0,0.6);\r\n        z-index:1000;\r\n    }\r\n    .lottocontainer{\r\n        background:white;\r\n        position:absolute;\r\n        z-index:1001;\r\n        margin-left:10vw;\r\n        margin-top:2vw;\r\n        width:80vw;\r\n        height:45vw;\r\n        background-image: url(https://i.imgur.com/aWorWBt.png);\r\n        background-size: 100% 100%;\r\n        #wheel1{\r\n            width: calc(${props => props.radius * 2}px);\r\n            height: calc(${props => props.radius * 2}px);\r\n            margin-left: calc(${props => props.width / 2}px - ${props => props.radius}px);\r\n            margin-top: calc(${props => props.height / 2}px - ${props => props.radius}px);\r\n        }\r\n        #arrow{\r\n            position:absolute;\r\n            width:${props => props.width * 0.085}px;\r\n            margin-left: calc(${props => props.width / 2}px - ${props => props.width * 0.048}px);\r\n            margin-top: calc(${props => props.height / 2.08}px - ${props => props.radius}px);\r\n        }\r\n    }\r\n`","import React, { useEffect, useState } from \"react\";\nimport Original from \"./Original\";\nimport Test from \"./Test\";\n\nconst App = () => {\n    const [show, setShow] = useState(false);\n    useEffect(() => {\n        !localStorage.getItem(\"Xdol!671\") && setShow(true);\n    }, []);\n    return (\n        <>\n            {show && <Original />}\n        </>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);"],"sourceRoot":""}